{% extends "layout.html" %} {% block title %}Home{% endblock title %}
{% block content %}
{% from 'bootstrap5/form.html' import render_field %}

{% if current_user.is_authenticated %}
<div class="form-container p-4 my-5 mx-auto text-light rounded-4">
    <form action="/" method="post">
        <div class="mb-3">
            {{ render_field(shit_form.post, class="form-control aria-label-hidden", placeholder="Share your shit to the world!") }}
        </div>
        {{ render_field(shit_form.submit, class="btn btn-dark btn-outline-warning") }}
    </form>
</div>
{% else %}
<div class="anon-user-heading p-2 my-5 mx-auto rounded-4">
    <div class="text-center text-light">
        <h1>Latest Shitposts</h1>
    </div>
</div>
{% endif %}

{% if shit_posts %}
<div class="d-flex flex-column flex-wrap w-lg-100 align-items-center">
    {% for post in shit_posts %}
    <div class="post-item text-light p-3 p-lg-4 m-0 m-lg-2 rounded-4">
        <h5>{{ post.user.username }}</h5>
        <i>{{ post.date.strftime('%B %d, %Y') }}</i>
        <p class="lead">{{ post.post }}</p>
    </div>
    {% endfor %}
</div>

{% else %}
    <h1 class="text-light w-100 text-center mt-5">There are currently {{ shit_posts | length }} shitpost.</h1>

{% endif %}
{% endblock content %}